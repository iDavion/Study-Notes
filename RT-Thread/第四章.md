# RT-Thread 学习文档
## 第四章、线程管理
### 4.1线程控制块
是一个结构体   `struct rt_thread`
是操作系统用于管理线程的数据结构
#### 4.1.1线程栈
合理预设栈的大小
#### 4.1.2线程状态
五种状态：初始、就绪、运行、挂起、关闭
（本质上就绪态和运行态是一样的）
#### 4.1.3线程优先级
大支持256个优先级（0-255）数值越小优先级越高，普遍采用32个优先级
#### 4.1.4时间片
时间片仅对优先级相同的就绪状态线程有效，单位是系统节拍（OS Tick）
#### 4.1.5线程的入口函数
entry是入口函数，相当于中断里的中断服务函数
### 4.2线程的管理方式
| 线程管理    | 代码                        |
| ----------- | --------------------------- |
| 创建/初始化 | `rt_thread_creat/init()`    |
| 启动        | `rt_thread_startup()`       |
| 运行        | `rt_thread_delay/control()` |
| 删除/脱离   | `rt_thread_delete/derach()` |
### 4.3线程的具体操作
#### 4.3.1创建动态线程、删除线程
创建线程代码：
```
rt_thread_t rt_thread_create(const char* name,
                            void (*entry) (void* parameter),
                            void* parameter,
                            rt_uint32_t stack_size,
                            rt_uint8_t priority,
                            rt_uint32_t tick);
```
删除线程代码
```
rt_err_t rt_thread_delete(rt_thread_ thread);
```
#### 4.3.2初始化静态线程、脱离线程

#### 4.3.3启动线程

#### 4.3.4获得当前线程

#### 4.3.5使线程让出处理器资源

#### 4.3.6使线程睡眠

#### 4.3.7挂起和恢复线程

#### 4.3.8控制线程

#### 4.3.9设置和删除空闲钩子

#### 4.3.10设置调度器钩子


